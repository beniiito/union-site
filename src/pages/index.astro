---
import Layout from "../layouts/Layout.astro";
import Fotos from "../Config/fotos.json";

//components
import Hero from "../components/landing/Hero.astro";
import Foter from "../components/landing/Foter.astro";
import Maps from "../components/landing/Maps.astro";

//code
---

<Layout title="Home">
  <Hero />
  <div
    class="relative overflow-hidden bg-cover bg-no-repeat bg-oliva-100"
    style="
    background-position: 50%;
    height: 250px;
  "
  >
    <div
      class="absolute bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-fixed"
    >
      <div class="flex h-full items-center justify-center">
        <div class="text-center text-white md:px-12">
          <h1 class="md:text-5xl font-bold p-2">Bienvenidos</h1>
          <p class="m-5 md:text-2xl text-justify">
            Unión Hidalgo o Ranchu Gubiña, es una población ubicada en la región
            del Istmo de Tehuantepec, cabecera del municipio del mismo nombre,
            en el Estado de Oaxaca, al sureste de México.
          </p>
          
        </div>
      </div>
    </div>
  </div>
  <div class="md:grid grid-cols-2 md:gap-4 md:p-4">
    <div class="">
      <img class=""
        src="/people.svg"
        srcset=""
      />
    </div>
    <div class=" text-center md:text-5xl  my-14 md:my-32 font-bold">
      <h3 data-target="14542 " class="count">0</h3>
      <h6>Habitantes</h6>
    </div>
  </div>
  <!-- <p class="text-2xl md:text-5xl text-center md:py-10">
    Lugares para fotos
  </p>
  <div class="md:grid grid-cols-2 md:gap-4 md:p-4 items-center">
    {
      Fotos.map((foto) => (
        <div class="block rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.2)] py-4">
          <div class="">
            <img class="rounded-t-lg" src={foto.img} alt="" />
          </div>

          <div class="p-6">
            <h5 class="mb-2 text-xl font-medium leading-tight">{foto.title}</h5>
            <p class="mb-4 text-base">{foto.descripcion}</p>
          </div>
        </div>
      ))
    }
  </div> -->
  <p class="text-2xl md:text-5xl text-center py-10">¿Como llegar?</p>
  <Maps />
  <script>
    const counters = document.querySelectorAll(".count");
    const speed = 200;

    counters.forEach((counter) => {
      const updateCount = () => {
        const target = parseInt(+counter.getAttribute("data-target"));
        const count = parseInt(+counter.innerText);
        const increment = Math.trunc(target / speed);
        console.log(increment);

        if (count < target) {
          counter.innerText = count + increment;
          setTimeout(updateCount, 1);
        } else {
          count.innerText = target;
        }
      };
      updateCount();
    });
  </script>

</Layout>
<Foter />
